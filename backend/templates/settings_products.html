{% extends "page1.html" %}

{% block header %}
<a href="/">Сувенирка</a>
/
Типы
{% endblock %}

{% block content %}
<center>
    <div class="row col-12">
        <div class="col-12"><center>
            <h1>Товары</h1>
            <p>Сами продаваемые товары.</p>
        </center></div>
        <div class="col-lg-3 col-md-6 col-sm-6">
            <br>
            <br>
            <h2>Создать</h2>
            <form action="add_product" method="post" enctype="multipart/form-data">
                <p><input type="text" name="type" placeholder="ID типа"></p>
                <p><input type="text" name="name" placeholder="Название"></p>
                <p><input type="text" name="cost" placeholder="Стоимость (&#8381;)"></p>

                <div class="chekable">
                    <p><input type="checkbox" name="is_file" value="is_file">Загрузить картинку</p>
                    <div><p>Загрузить файл: <input type="file" name="file-file" accept="image/*"></p></div>
                    <div><p><input type="text" name="file-name" placeholder="Загруженный файл"></p></div>
                </div>
                {% if error_add_product %} <p class="error">[ {{ error_add_product }} ]</p>
                {% endif %}
                <input type="submit" value="Сохранить">
            </form>
            <br>
            <br>
            <h2>Удалить</h2>
            <form action="delete_product" method="post">
                <p><input type="text" name="id" placeholder="ID товара"></p>
                {% if error_delete_product %} <p class="error">[ {{ error_delete_product }} ]</p>
                {% endif %}
                <input type="submit" value="Сохранить">
            </form>
        </div>

        <div class="col-lg-3 col-md-6 col-sm-6">
            <br>
            <br>
            <h2>Редактировать</h2>
            <form action="edit_product" method="post" enctype="multipart/form-data">
                <p><input type="text" name="id" placeholder="ID товара"></p>
                <p><input type="text" name="type" placeholder="ID типа"></p>
                <p><input type="text" name="name" placeholder="Название"></p>
                <p><input type="text" name="cost" placeholder="Стоимость (&#8381;)"></p>

                <div class="chekable">
                    <p><input type="checkbox" name="is_file" value="is_file">Загрузить картинку</p>
                    <div><p>Загрузить файл: <input type="file" name="file-file" accept="image/*"></p></div>
                    <div><p><input type="text" name="file-name" placeholder="Загруженный файл"></p></div>
                </div>
                {% if error_edit_product %} <p class="error">[ {{ error_edit_product }} ]</p>
                {% endif %}
                <input type="submit" value="Сохранить">
            </form>
        </div>

        <div class="col-lg-1 col-md-1"></div>

        <div class="col-lg-4 col-md-12 col-cm-12">
            <br>
            <br>
            <h2>Список</h2>
            <div class="row table-responsive justify-content-center"><center>
                <table class="table table-bordered table-striped">
                    <tr>
                        <td>ID</td>
                        <td>Тип</td>
                        <td>Название</td>
                        <td>Фото</td>
                        <td>Цена (&#8381;)</td>
                    </tr>
                    {% for now in products %}
                    <tr>
                        <td>{{ now.id }}</td>
                        <td>{{ now.type }}</td>
                        <td>{{ now.name }}</td>
                        <td><a href="../Images/{{ now.photo }}" target="_blank">{{ now.photo }}</a></td>
                        <td>{{ now.cost }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </center></div>
        </div>

        <div class="col-lg-1 col-md-1"></div>
    </div>
</center>

<script>listenCheckbox(document);</script>

{% endblock %}
